<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SEEZU | Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --pink:#ff5c8d;
 --light:#eef3f9;
 --card:#ffffff;
}
body{
 margin:0;
 font-family:Arial, sans-serif;
 background:var(--light);
 overflow:hidden;
}
.container{
 width:100%;
 max-width:900px;
 margin:auto;
 padding:20px;
 text-align:center;
}
.logo{
 font-size:48px;
 font-weight:bold;
 color:var(--pink);
 margin:20px 0;
}
.card{
 background:var(--card);
 border-radius:25px;
 padding:25px;
 max-width:420px;
 margin:0 auto;
 box-shadow:0 5px 15px rgba(0,0,0,.1);
 position:relative;
 z-index:2;
}
.login-img{
 width:220px;
 border-radius:20px;
 box-shadow:0 10px 25px rgba(0,0,0,.2);
 margin-bottom:15px;
}
input{
 width:100%;
 padding:12px;
 border-radius:20px;
 border:1px solid #ccc;
 margin:8px 0;
 font-size:14px;
}
button{
 width:100%;
 padding:14px;
 border:none;
 border-radius:25px;
 background:var(--pink);
 color:#fff;
 font-size:16px;
 cursor:pointer;
 margin-top:10px;
}
.link{
 font-size:13px;
 margin-top:12px;
 color:var(--pink);
 cursor:pointer;
}
.msg{
 font-size:13px;
 margin-top:10px;
}

/* üå∏ ENTER OVERLAY */
.enter-overlay{
 position:fixed;
 inset:0;
 background:rgba(255,92,141,.25);
 backdrop-filter:blur(6px);
 display:none;
 justify-content:center;
 align-items:center;
 z-index:9999;
 overflow:hidden;
}
.enter-box{
 background:#fff0f6;
 padding:22px 28px;
 border-radius:25px;
 font-size:18px;
 color:#ff5c8d;
 box-shadow:0 15px 30px rgba(0,0,0,.25);
 min-width:260px;
 white-space:pre-line;
 position:relative;
 z-index:2;
}

/* üíñ FLOATING HEARTS */
.heart{
 position:absolute;
 bottom:-20px;
 color:#ff5c8d;
 font-size:18px;
 animation:float 3s linear forwards;
 opacity:.8;
}
@keyframes float{
 from{transform:translateY(0);opacity:1}
 to{transform:translateY(-120vh);opacity:0}
}

/* üï∑Ô∏è SPIDER ENTRY */
.spider{
 position:absolute;
 top:-80px;
 left:50%;
 transform:translateX(-50%);
 font-size:42px;
 animation:spiderDrop 1.5s ease forwards;
}
@keyframes spiderDrop{
 to{top:110px}
}
</style>
</head>

<body>

<div class="container">
 <div class="logo">SEEZU</div>

 <div class="card">
  <!-- üëà PHOTO WAPAS -->
  <img src="login-girl.jpg" class="login-img" alt="Login Girl">

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">

  <button onclick="login()">Login</button>
  <button onclick="signup()">Signup</button>

  <div class="link" onclick="forgotPassword()">Forgot Password?</div>
  <div class="msg" id="msg"></div>
 </div>
</div>

<!-- üå∏ ENTERING HOME OVERLAY -->
<div id="enterOverlay" class="enter-overlay">
 <div class="spider">üï∑Ô∏è</div>
 <div class="enter-box">
  <span id="enterText"></span>
 </div>
</div>

<!-- üîä TYPING SOUND -->
<audio id="typeSound" preload="auto"
 src="https://assets.mixkit.co/sfx/preview/mixkit-typewriter-soft-1125.mp3">
</audio>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import {
 getAuth,
 signInWithEmailAndPassword,
 createUserWithEmailAndPassword,
 sendPasswordResetEmail
} from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

import {
 getFirestore,
 doc,
 setDoc,
 getDoc
} from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

/* üî• FIREBASE (TUMHARA HI) */
const firebaseConfig = {
 apiKey: "AIzaSyBkHcQJJ4HXU4R23J2nBy1z4ElL3_Hr1D0",
 authDomain: "seezu-1066d.firebaseapp.com",
 projectId: "seezu-1066d"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const overlay = document.getElementById("enterOverlay");
const enterText = document.getElementById("enterText");
const typeSound = document.getElementById("typeSound");

/* üíñ HEART */
function createHeart(){
 const h=document.createElement("div");
 h.className="heart";
 h.innerText="üíñ";
 h.style.left=Math.random()*100+"%";
 h.style.fontSize=12+Math.random()*18+"px";
 overlay.appendChild(h);
 setTimeout(()=>h.remove(),3000);
}

/* üí¨ SHOW ENTERING (USERNAME FROM FIRESTORE) */
async function showEntering(uid){
 const snap = await getDoc(doc(db,"users",uid));
 const name = snap.exists()? snap.data().username : "Friend";

 overlay.style.display="flex";
 enterText.innerText="";

 const msg = `Hey ${name} üíñ\nEntering Home...`;
 let i=0;

 const t=setInterval(()=>{
  enterText.innerText+=msg.charAt(i);
  typeSound.currentTime=0;
  typeSound.play();
  createHeart();
  i++;
  if(i===msg.length) clearInterval(t);
 },60);
}

/* ‚úÖ LOGIN */
window.login=()=>{
 signInWithEmailAndPassword(auth,email.value,password.value)
 .then(res=>{
  showEntering(res.user.uid);
  setTimeout(()=>location.href="home.html",2000);
 })
 .catch(e=>msg.innerText=e.message);
};

/* ‚úÖ SIGNUP */
window.signup=()=>{
 createUserWithEmailAndPassword(auth,email.value,password.value)
 .then(async cred=>{
  await setDoc(doc(db,"users",cred.user.uid),{
   username: email.value.split("@")[0],
   email: email.value
  });
  showEntering(cred.user.uid);
  setTimeout(()=>location.href="home.html",2000);
 })
 .catch(e=>msg.innerText=e.message);
};

/* üîÅ FORGOT PASSWORD */
window.forgotPassword=()=>{
 if(!email.value){
  msg.innerText="Please enter your email first";
  return;
 }
 sendPasswordResetEmail(auth,email.value)
 .then(()=>msg.innerText="Password reset email sent ‚úîÔ∏è")
 .catch(e=>msg.innerText=e.message);
};
</script>

</body>
</html>
