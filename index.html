<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SEEZU</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --pink:#ff5c8d;
 --light:#eef3f9;
 --card:#ffffff;
}
body{
 margin:0;
 font-family:Arial, sans-serif;
 background:var(--light);
}
.container{
 max-width:420px;
 margin:auto;
 padding:20px;
 text-align:center;
}
.hidden{display:none}
.logo{
 font-size:48px;
 font-weight:bold;
 color:var(--pink);
 margin:20px 0;
}
.girl{
 width:240px;
 border-radius:25px;
 box-shadow:0 10px 25px rgba(0,0,0,.2);
 margin:15px auto;
 display:block;
}
.card{
 background:var(--card);
 border-radius:25px;
 padding:18px;
 margin:15px 0;
 box-shadow:0 5px 15px rgba(0,0,0,.1);
}
.social{
 display:flex;
 gap:10px;
 justify-content:center;
}
.social a{
 flex:1;
 background:var(--pink);
 color:#fff;
 padding:12px;
 border-radius:25px;
 text-decoration:none;
 font-size:14px;
}
button{
 padding:14px;
 border:none;
 border-radius:25px;
 background:var(--pink);
 color:#fff;
 font-size:16px;
 cursor:pointer;
}
input,select{
 width:100%;
 padding:12px;
 border-radius:20px;
 border:1px solid #ccc;
 margin:8px 0;
}
.chat{
 max-height:220px;
 overflow:auto;
 text-align:left;
}
.msg{
 background:#ffc1d6;
 padding:10px;
 border-radius:15px;
 margin:6px 0;
 font-size:14px;
}
.typing{
 font-size:12px;
 opacity:.6;
}

/* üî• MESSAGE INPUT ROW */
.msg-row{
 display:flex;
 gap:8px;
 align-items:center;
}
.msg-row input{
 flex:1;
 margin:0;
}
.msg-row button{
 width:80px;
 padding:12px 0;
}

/* MUSIC */
.music-controls button{
 width:auto;
 margin:5px;
 padding:8px 14px;
}
</style>
</head>

<body>

<!-- LOGIN PAGE -->
<div class="container" id="loginPage">
 <div class="logo">SEEZU</div>
 <img src="login-girl.jpg" class="girl">
 <div class="card">
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()" style="width:100%">Login</button>
  <button onclick="signup()" style="width:100%;margin-top:8px">Signup</button>
 </div>
</div>

<!-- MAIN PAGE -->
<div class="container hidden" id="mainPage">
 <div class="logo">SEEZU</div>
 <img src="girl.jpg" class="girl">

 <div class="social">
  <a href="https://instagram.com/fx_mausam.xo" target="_blank">Instagram</a>
  <a href="#">Snapchat</a>
  <a href="https://wa.me/" target="_blank">WhatsApp</a>
 </div>

 <div class="card">
  <h3>Mood</h3>
  <button style="width:100%" onclick="toggleMood()">Change Mood</button>
 </div>

 <div class="card">
  <h3>Music</h3>
  <audio id="music" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
  <div class="music-controls">
   <button onclick="music.play()">‚ñ∂</button>
   <button onclick="music.pause()">‚è∏</button>
  </div>
 </div>

 <div class="card">
  <h3>Live Chat</h3>
  <select id="room" onchange="loadChat()">
   <option value="public">Public Chat</option>
   <option value="private">Private Chat</option>
  </select>

  <div class="chat" id="chat"></div>
  <div class="typing" id="typing"></div>

  <!-- ‚úÖ INPUT + SEND SIDE BY SIDE -->
  <div class="msg-row">
    <input id="msg" placeholder="Type message">
    <button onclick="sendMsg()">Send</button>
  </div>
 </div>

 <button style="width:100%" onclick="logout()">Logout</button>
</div>

<!-- FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
import { getDatabase, ref, push, onChildAdded, set } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

const firebaseConfig={
 apiKey:"AIzaSyBkHcQJJ4HXU4R23J2nBy1z4ElL3_Hr1D0",
 authDomain:"seezu-1066d.firebaseapp.com",
 databaseURL:"https://seezu-1066d-default-rtdb.firebaseio.com",
 projectId:"seezu-1066d"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getDatabase(app);

window.login=()=>signInWithEmailAndPassword(auth,email.value,password.value);
window.signup=()=>createUserWithEmailAndPassword(auth,email.value,password.value);
window.logout=()=>signOut(auth);

onAuthStateChanged(auth,u=>{
 if(u){
  loginPage.classList.add("hidden");
  mainPage.classList.remove("hidden");
  loadChat();
 }else{
  loginPage.classList.remove("hidden");
  mainPage.classList.add("hidden");
 }
});

window.loadChat=()=>{
 const chatRef=ref(db,"chat/"+room.value);
 chat.innerHTML="";
 onChildAdded(chatRef,s=>{
  chat.innerHTML+=`<div class="msg">${s.val().text}<br><small>‚úì Seen</small></div>`;
 });
};

window.sendMsg=()=>{
 if(!msg.value)return;
 push(ref(db,"chat/"+room.value),{
  text:msg.value,
  uid:auth.currentUser.uid
 });
 msg.value="";
};

msg.addEventListener("input",()=>{
 set(ref(db,"typing"),{user:"typing"});
 typing.innerText="Typing...";
 setTimeout(()=>typing.innerText="",1000);
});

window.toggleMood=()=>{
 document.body.style.background =
 document.body.style.background=="rgb(238, 243, 249)" ? "#ffe6ef" : "#eef3f9";
};
</script>

</body>
</html>
